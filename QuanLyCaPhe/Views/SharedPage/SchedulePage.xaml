<Page x:Class="QuanLyCaPhe.Views.SharedPage.SchedulePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:QuanLyCaPhe.Views.SharedPage"
      mc:Ignorable="d" 
      Width="auto" Height="auto"
      Title="SchedulePage">

    <Grid Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Padding="20,15" Background="White"
                BorderBrush="#E5E7EB" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal">
                <Button Content="◀" Click="PrevMonth_Click" Width="30" Height="30" Background="Transparent" BorderThickness="1" BorderBrush="#E5E7EB"/>

                <TextBlock x:Name="txtCurrentMonth" Text="Tháng 12, 2025" 
                           FontSize="18" FontWeight="Bold" Foreground="#1E1B4B" 
                           VerticalAlignment="Center" Margin="15,0" Width="140" TextAlignment="Center"/>

                <Button Content="▶" Click="NextMonth_Click" Width="30" Height="30" Background="Transparent" BorderThickness="1" BorderBrush="#E5E7EB"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <Border Style="{StaticResource LiquidGlassStyle}"
                    Margin="5">
                <Grid x:Name="ScheduleGrid" Margin="20"/>
            </Border>
        </ScrollViewer>

        <Grid x:Name="PopupOverlay" Grid.RowSpan="2" Visibility="Collapsed" Background="#40000000">
            <Border Width="320" Height="Auto" VerticalAlignment="Center" HorizontalAlignment="Center"
                    Style="{StaticResource GlassPopupStyle}" Padding="20">
                <StackPanel>
                    <TextBlock Text="📅 Đăng Ký Ca Làm" FontSize="18" FontWeight="Bold" Margin="0,0,0,15" Foreground="#1E1B4B"/>

                    <TextBlock Text="Họ và tên" Foreground="#6B7280" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtName" Height="35" Padding="5" FontSize="14" Margin="0,0,0,15"/>

                    <TextBlock Text="Ngày làm việc" Foreground="#6B7280" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtDate" IsReadOnly="True" Background="#F3F4F6" Height="35" Padding="5" FontSize="14" Margin="0,0,0,15"/>

                    <TextBlock Text="Bắt đầu" Foreground="#6B7280" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtStartTime" IsReadOnly="True" Background="#F3F4F6" Height="35" Padding="5" FontSize="14" Margin="0,0,0,15"/>

                    <TextBlock Text="Kết thúc (HH:mm)" Foreground="#6B7280" Margin="0,0,0,5"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="cbEndHour" Grid.Column="0" Height="35" FontSize="14"/>
                        <TextBlock Text=":" Grid.Column="1" VerticalAlignment="Center" Margin="5"/>
                        <ComboBox x:Name="cbEndMinute" Grid.Column="2" Height="35" FontSize="14"/>
                    </Grid>
                    <TextBlock x:Name="txtError" Text="" Foreground="Red" FontSize="12" Margin="0,5,0,0"/>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                        <Button Content="Hủy" Click="Cancel_Click" Width="80" Height="30" Background="Transparent" BorderThickness="0" Foreground="#6B7280"/>
                        <Button Content="Xác nhận" Click="Confirm_Click" Width="90" Height="30" Background="#4F46E5" Foreground="White" BorderThickness="0" Margin="10,0,0,0">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="6"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Page>
