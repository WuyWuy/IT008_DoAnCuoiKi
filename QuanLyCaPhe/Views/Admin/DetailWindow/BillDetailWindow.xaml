<Window x:Class="QuanLyCaPhe.Views.Admin.DetailWindow.BillDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chi Tiết Hóa Đơn" 
        MinHeight="600"
        Height="auto" Width="600"
        WindowStartupLocation="CenterScreen" ResizeMode="NoResize"
        Background="{StaticResource BackgroundLight}">

    <Border Style="{StaticResource LiquidGlassStyle}" Padding="20" Margin="10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <TextBlock Text="CHI TIẾT HÓA ĐƠN" 
                       HorizontalAlignment="Center" 
                       FontSize="22" FontWeight="Bold" 
                       Foreground="{StaticResource PrimaryColor}" 
                       Margin="0,0,0,15"/>

            <Grid Grid.Row="1" Margin="0,0,0,15">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                    <TextBlock Text="Mã hóa đơn:" FontWeight="SemiBold" Foreground="#1E1B4B"/>
                    <TextBox x:Name="txtId" IsReadOnly="True" Style="{StaticResource GlassTextStyleInput}" Background="#F3F4F6"/>

                    <TextBlock Text="Ngày Check-In:" FontWeight="SemiBold" Margin="0,10,0,0" Foreground="#1E1B4B"/>
                    <TextBox x:Name="txtDateCheckIn" IsReadOnly="True" Style="{StaticResource GlassTextStyleInput}" Background="#F3F4F6"/>
                </StackPanel>

                <StackPanel Grid.Column="1">
                    <TextBlock Text="Bàn:" FontWeight="SemiBold" Foreground="#1E1B4B"/>
                    <TextBox x:Name="txtTableName" IsReadOnly="True" Style="{StaticResource GlassTextStyleInput}" Background="#F3F4F6"/>

                    <TextBlock Text="Người tạo:" FontWeight="SemiBold" Margin="0,10,0,0" Foreground="#1E1B4B"/>
                    <TextBox x:Name="txtUser" IsReadOnly="True" Style="{StaticResource GlassTextStyleInput}" Background="#F3F4F6"/>
                </StackPanel>
            </Grid>

            <Border Grid.Row="2" BorderThickness="1" BorderBrush="#E5E7EB" CornerRadius="8" Background="White" Padding="5">
                <DataGrid x:Name="dgBillInfo" 
                          Style="{StaticResource CardStyleDataGridStyle}"
                          AutoGenerateColumns="False" 
                          IsReadOnly="True">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Tên món" Binding="{Binding TenMon}" Width="*"/>
                        <DataGridTextColumn Header="SL" Binding="{Binding SoLuong}" Width="50"/>
                        <DataGridTextColumn Header="Đơn giá" Binding="{Binding DonGia, StringFormat={}{0:N0}}" Width="80"/>
                        <DataGridTextColumn Header="Thành tiền" Binding="{Binding ThanhTien, StringFormat={}{0:N0}}" Width="90" FontWeight="Bold"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Border>

            <Grid Grid.Row="3" Margin="0,15,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" Width="100" Height="100" 
                        BorderBrush="#CBD5E1" BorderThickness="1" 
                        CornerRadius="8" Background="#F8FAFC"
                        VerticalAlignment="Top" HorizontalAlignment="Left">
                    <TextBlock Text="QR AREA" Foreground="#94A3B8" 
                               FontSize="10" FontWeight="Bold"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>

                <StackPanel Grid.Column="1" Margin="15,0,0,0" VerticalAlignment="Bottom">
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right" Grid.Column="0" Margin="0,0,10,0">
                            <TextBlock Text="Giảm giá:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <TextBox x:Name="txtDiscount" Width="50" Style="{StaticResource GlassTextStyleInput}" TextAlignment="Center" IsReadOnly="True" Background="#F3F4F6"/>
                            <TextBlock Text="%" VerticalAlignment="Center" Margin="5,0,0,0"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <TextBlock Text="TỔNG CỘNG:" FontWeight="Bold" FontSize="16" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="#1E1B4B"/>
                            <TextBlock x:Name="lblTotalPrice" Text="0 VNĐ" FontWeight="Bold" FontSize="20" Foreground="{StaticResource PrimaryColor}" VerticalAlignment="Center"/>
                        </StackPanel>
                    </Grid>

                    <Button Content="Đóng" Width="100" HorizontalAlignment="Right"
                            Style="{StaticResource GlassDeleteButtonStyle}"
                            Click="BtnClose_Click"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>
</Window>